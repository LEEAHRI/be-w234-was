# java-was-2022

## Java Web Application Server 2022

### STEP 1
* Thread는 각각 별도의 레지스터, Stack을 따로 할당 받는다.

* Thread는 CPU에서 실행되는데, 이 별도의 공간을 이용하여 컨텍스트 스위칭이 가능한 것이다.

* 하지만 Heap Area와 Method Area는 공유하여 사용한다.

* 자바에서 Thread는 메서드 단위로 수행된다.

* 해당 과제에서의 요청 흐름 
  1. 서버 소켓 생성
  2. 서버 소켓 요청 대기
  3. 클라이언트 요청
  4. 커넥션 소켓 생성 (별도의 포트 할당)
  5. 해당 소켓을 통해 클라이언트의 요청을 처리하는 워커 쓰레드 생성
  6. 워커 쓰레드를 통해 작업 수행 및 응답

* 이번 단계를 구현하며 한 생각 정리
  * HttpMethod와 프로토콜은 상수라고 생각하여 enum으로 뽑아내었다.
  * url같은 경우, 상수로 지정하기 어렵고 아직 불변식이라고 할만한 부분이 없어서 우선 String을 사용하였다.
  * String 값에 대해 null 또는 빈 값인 경우, 예외를 발생하게 해놓은 코드는 범용적으로 사용하게 된다면 Util 클래스를 만들어 옮길 것 같다.
  * 웹 서버 동작 중 발생할 수 있는 예외에 대해 Custom Exception class를 만들었다. 각 경우에 대해 따로 클래스를 만들게 되면 상당한 양의 예외 클래스가 생길 것이라 판단하여 하나의 예외 클래스에서 사용되는 다양한 에러 메시지를 Enum으로 사용하도록 하였다.